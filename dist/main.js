!function(s){var e={};function t(i){if(e[i])return e[i].exports;var h=e[i]={i:i,l:!1,exports:{}};return s[i].call(h.exports,h,h.exports,t),h.l=!0,h.exports}t.m=s,t.c=e,t.d=function(s,e,i){t.o(s,e)||Object.defineProperty(s,e,{enumerable:!0,get:i})},t.r=function(s){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(s,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(s,"__esModule",{value:!0})},t.t=function(s,e){if(1&e&&(s=t(s)),8&e)return s;if(4&e&&"object"==typeof s&&s&&s.__esModule)return s;var i=Object.create(null);if(t.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:s}),2&e&&"string"!=typeof s)for(var h in s)t.d(i,h,function(e){return s[e]}.bind(null,h));return i},t.n=function(s){var e=s&&s.__esModule?function(){return s.default}:function(){return s};return t.d(e,"a",e),e},t.o=function(s,e){return Object.prototype.hasOwnProperty.call(s,e)},t.p="",t(t.s=1)}([function(s,e){const t={collide(s,e){const t=s.physics.width?s.physics.width:s.sprite.width,i=e.physics.width?e.physics.width:e.sprite.width,h=s.physics.height?s.physics.height:s.sprite.height,c=e.physics.height?e.physics.height:e.sprite.height;return s.physics.x<e.physics.x+i&&s.physics.x+t>e.physics.x&&s.physics.y<e.physics.y+c&&s.physics.y+h>e.physics.y}};s.exports=t},function(s,e,t){"use strict";t.r(e);var i=class{constructor(s,e,t=null,i=null){this.x=s,this.y=e,this.width=t,this.height=i,this.dLeft=0,this.dRight=0,this.dDown=0,this.dUp=0,this.dx=this.dx.bind(this),this.dy=this.dy.bind(this),this.speed=2}dx(){return-this.dLeft+this.dRight}dy(){return-this.dUp+this.dDown}updatePosition(){this.x+=this.dx(),this.y+=this.dy()}boundedUpdate(){const{dx:s,dy:e}=this;this.boundedMove({x:s(),y:e()},{top:0,down:550,left:80,right:350})}boundedMove(s,e){this.x+=s.x,this.y+=s.y,this.x<e.left&&(this.x=e.left),this.x>e.right&&(this.x=e.right),this.y<e.top&&(this.y=e.top),this.y>e.down&&(this.y=e.down)}};var h=class{constructor(s,e,t){this.img=s,this.height=e,this.width=t}};const c=new Image;c.src="./assets/images/road.png";var n=class{constructor(s){this.physics=s,this.sprite=new h(c,1262,502),this.score=0,this.gameOver=!1}move(){this.physics.dDown=this.physics.speed}addScore(){this.gameOver?this.score:this.score+=1}makeGreen(){const s=document.getElementById("score");s.classList.toggle("score-value--mod"),setTimeout(()=>{s.classList.toggle("score-value--mod")},300)}stop(){this.physics.dDown=0,this.gameOver=!0}addSpeed(){}};const a=new Image;a.src="./assets/images/turbo.png";var o=class{constructor(s){this.physics=s,this.sprite=new h(a,30,31)}move(){this.physics.dDown=this.physics.speed}stop(){this.physics.dDown=0}},r=t(0),d=t.n(r);const l=new Image;l.src="./assets/images/rock.png";var y=class{constructor(s){this.physics=s,this.sprite=new h(l,30,35)}move(){this.physics.dDown=this.physics.speed}stop(){this.physics.dDown=0}};const p=new Image;p.src="./assets/images/money.png";var g=class{constructor(s){this.physics=s,this.sprite=new h(p,40,40)}move(){this.physics.dDown=this.physics.speed}stop(){this.physics.dDown=0}};const w=new Image;w.src="./assets/images/car.png";var m=class{constructor(s){this.physics=s,this.sprite=new h(w,150,70),this.life=3}hitObstacle(){this.life-=1}getLife(){this.life+=1}resetLife(){this.life=3}makeGreen(){const s=document.getElementById("lives");s.classList.toggle("lives-value--green"),setTimeout(()=>{s.classList.toggle("lives-value--green")},200)}makeRed(){const s=document.getElementById("lives");s.classList.toggle("lives-value--red"),setTimeout(()=>{s.classList.toggle("lives-value--red")},200)}draw(s){const{sprite:e,physics:t}=this,i=e.width/-2+t.width/2,h=e.height/-2+t.height/2;s.drawImage(e.img,0,0,e.width,e.height,t.x+i,t.y+h,e.width,e.height)}};var u=()=>({road:new n(new i(0,-561)),car:new m(new i(214,500,70,100))});class f{constructor(s,e){this.canvas=s,this.ctx=e,this.gameOver=!1,this.rocks=[],this.life=[],this.cash=[],this.assets=u(),this.animate=null}static checkCollision(s,e,t,i){e instanceof y&&d.a.collide(s,e)&&(s.hitObstacle(),s.makeRed(),t.splice(t.indexOf(e),1)),e instanceof o&&d.a.collide(s,e)&&(s.getLife(),s.makeGreen(),t.splice(t.indexOf(e),1)),e instanceof g&&d.a.collide(s,e)&&(i.road.score+=100,i.road.makeGreen(),t.splice(t.indexOf(e),1))}static checkCanvas(s,e){s instanceof o&&s.physics.y>canvas.height&&e.splice(e.indexOf(s),1),s instanceof y&&s.physics.y>canvas.height&&e.splice(e.indexOf(s),1),s instanceof g&&s.physics.y>canvas.height&&e.splice(e.indexOf(s),1)}drawAsset(s){const{physics:e,sprite:t}=s;s instanceof n&&s.physics.y>=0&&t.height>canvas.height&&(s.physics.y>canvas.height&&(s.physics.y=canvas.height-t.height),this.ctx.drawImage(t.img,0,0,t.width,t.height,s.physics.x,s.physics.y-t.height+1,t.width,t.height)),s instanceof y&&s.physics.y>=0&&s.physics.y>canvas.height&&this.ctx.drawImage(t.img,0,0,t.width,t.height,s.physics.x,s.physics.y-900,t.width,t.height),s instanceof m?s.draw(this.ctx):this.ctx.drawImage(t.img,0,0,t.width,t.height,e.x,e.y,t.width,t.height),0!=this.assets.car.life&&(s instanceof m?e.boundedUpdate():e.updatePosition())}draw(){if(!this.gameOver){const s=()=>{const e=Object.values(this.assets);this.animate=requestAnimationFrame(s),this.ctx.clearRect(0,0,canvas.width,canvas.height);for(let s=0;s<e.length;s++)this.drawAsset(e[s]);this.rocks.forEach(s=>{f.checkCollision(this.assets.car,s,this.rocks),f.checkCanvas(s,this.rocks)}),this.life.forEach(s=>{f.checkCollision(this.assets.car,s,this.life),f.checkCanvas(s,this.life)}),this.cash.forEach(s=>{f.checkCollision(this.assets.car,s,this.cash,this.assets),f.checkCanvas(s,this.cash)}),this.life.forEach(s=>{this.drawAsset(s),s.move()}),this.rocks.forEach(s=>{this.drawAsset(s),s.move()}),this.cash.forEach(s=>{this.drawAsset(s),s.move()}),this.assets.road.addScore(),document.getElementById("score").innerHTML=`${this.assets.road.score}`,document.getElementById("lives").innerHTML=`${this.assets.car.life}`,this.end()};s()}}end(){this.assets.car.life<=0&&(this.gameOver=!0,this.assets.road.stop(),this.draw(),document.getElementById("slow").innerHTML="Too Slow!",document.getElementById("how").style.visibility="hidden",document.getElementById("welcome").style.display=null)}createRock(){this.rocks.push(new y(new i(Math.floor(310*Math.random())+80,-20)))}createLife(){this.life.push(new o(new i(Math.floor(310*Math.random())+80,-20)))}createCash(){this.cash.push(new g(new i(Math.floor(310*Math.random())+80,-20)))}cleanUp(){window.cancelAnimationFrame(this.animate)}start(){this.gameOver=!1,document.getElementById("welcome").style.display="none",this.assets.car.resetLife(),setInterval(()=>{this.gameOver||this.createRock()},6e3),setInterval(()=>{this.gameOver||this.createLife()},4500),setInterval(()=>{this.gameOver||this.createCash()},700),this.draw(),this.assets.road.move()}}var v=f;var k=s=>{window.addEventListener("keydown",e=>{const t=s.assets.car;"a"!==e.key&&"ArrowLeft"!==e.key||(t.physics.dLeft=4),"d"!==e.key&&"ArrowRight"!==e.key||(t.physics.dRight=4),"w"!==e.key&&"ArrowUp"!==e.key||(t.physics.dUp=4),"s"!==e.key&&"ArrowDown"!==e.key||(t.physics.dDown=4)}),window.addEventListener("keyup",e=>{const t=s.assets.car;"a"!==e.key&&"ArrowLeft"!==e.key||(t.physics.dLeft=0),"d"!==e.key&&"ArrowRight"!==e.key||(t.physics.dRight=0),"w"!==e.key&&"ArrowUp"!==e.key||(t.physics.dUp=0),"s"!==e.key&&"ArrowDown"!==e.key||(t.physics.dDown=0)})};document.addEventListener("DOMContentLoaded",()=>{const s=document.getElementById("canvas"),e=s.getContext("2d");s.height=700,s.width=500;let t=new v(s,e);document.getElementById("how").innerHTML="Use directional arrows or WSAD to move your car around. Collect as much cash as you can to increase your points while avoiding the rocks!",document.getElementById("play-btn").addEventListener("click",()=>{!0===t.gameOver&&(t.cleanUp(),t=new v(s,e)),k(t),t.start()})})}]);